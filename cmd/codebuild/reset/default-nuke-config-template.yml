regions:
  - "global"
  # DCE Principals roles are currently locked down
  # to only access these two regions
  # This significantly reduces the run time of nuke.
  - "us-east-1"
  - "us-west-1"

account-blacklist:
- "999999999999" # Arbitrary production account id

resource-types:
  excludes:
  - S3Object # Let the S3Bucket delete all Objects instead of individual objects (optimization)

accounts:
  "{{id}}": # Child Account
    filters:
      IAMPolicy:
        - type: "contains"
          value: "{{principal_policy}}"
      IAMRole:
        - "{{admin_role}}"
        - "{{principal_role}}"
      IAMRolePolicy:
        - type: "contains"
          value: "{{admin_role}}"
        - type: "contains"
          value: "{{principal_role}}"
        - type: "contains"
          value: "{{principal_policy}}"
      IAMRolePolicyAttachment:
        # Do not remove the policy from the principal user role
        - "{{principal_role}} -> {{principal_policy}}"